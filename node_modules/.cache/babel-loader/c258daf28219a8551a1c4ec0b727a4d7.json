{"remainingRequest":"/home/dev/work/client-auth/node_modules/babel-loader/lib/index.js!/home/dev/work/client-auth/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/dev/work/client-auth/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/dev/work/client-auth/src/components/the-navbar.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/dev/work/client-auth/src/components/the-navbar.vue","mtime":1580718445899},{"path":"/home/dev/work/client-auth/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dev/work/client-auth/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/dev/work/client-auth/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dev/work/client-auth/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es7.array.includes\";\nimport \"core-js/modules/es6.string.includes\";\nimport \"core-js/modules/es6.array.find\";\nimport \"core-js/modules/es6.function.name\";\nimport _defineProperty from \"/home/dev/work/client-auth/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport clickaway from \"../directives/clickaway\";\nimport { mapState } from \"vuex\";\nexport default {\n  name: 'the-nav',\n  directives: {\n    clickaway: clickaway\n  },\n  watch: {\n    '$route': function $route() {\n      this.expandCurrentRoute();\n    },\n    scope: function scope() {\n      this.computeNav();\n    }\n  },\n  data: function data() {\n    return {\n      fullNav: [{\n        name: 'directory',\n        displayName: this.$t('nav.directory.directory'),\n        route: '/directory',\n        iconClass: 'icon-icon_nav-directory',\n        expanded: false,\n        subnav: [{\n          name: 'license',\n          displayName: this.$t('nav.directory.license'),\n          route: '/directory/license',\n          current: false\n        }, {\n          name: 'users',\n          displayName: this.$t('nav.directory.users'),\n          route: '/directory/users',\n          current: false\n        }, {\n          name: 'devices',\n          displayName: this.$t('nav.directory.devices'),\n          route: '/directory/devices',\n          current: false\n        }]\n      }, {\n        name: 'routing',\n        displayName: this.$t('nav.routing.routing'),\n        route: '/routing',\n        iconClass: 'icon-icon_nav-routing',\n        expanded: false,\n        subnav: [{\n          name: 'flow',\n          displayName: this.$t('nav.routing.flow'),\n          route: '/routing/flow',\n          current: false\n        }, {\n          name: 'dialplan',\n          displayName: this.$t('nav.routing.dialplan'),\n          route: '/routing/dialplan',\n          current: false\n        }, {\n          name: 'chatplan',\n          displayName: this.$t('nav.routing.chatplan') + ' (coming soon)',\n          route: '/routing/chatplan',\n          current: false\n        }, {\n          name: 'gateways',\n          displayName: this.$t('nav.routing.gateways'),\n          route: '/routing/gateways',\n          current: false\n        }]\n      }, {\n        name: 'lookups',\n        displayName: this.$t('nav.lookups.lookups'),\n        route: '/lookups',\n        iconClass: 'icon-icon_nav-lookups',\n        expanded: false,\n        subnav: [{\n          name: 'blacklist',\n          displayName: this.$t('nav.lookups.blacklists'),\n          route: '/lookups/blacklist',\n          current: false\n        }, {\n          name: 'calendars',\n          displayName: this.$t('nav.lookups.calendars'),\n          route: '/lookups/calendars',\n          current: false\n        }, {\n          name: 'communications',\n          displayName: this.$t('nav.lookups.communications'),\n          route: '/lookups/communications',\n          current: false\n        }, {\n          name: 'media',\n          displayName: this.$t('nav.lookups.media'),\n          route: '/lookups/media',\n          current: false\n        } // {\n        //     name: 'contact-types',\n        //     displayName: this.$t('nav.lookups.contactTypes'),\n        //     route: '/lookups/contact-types',\n        //     current: false,\n        // },\n        // {\n        //     name: 'lead-sources',\n        //     displayName: this.$t('nav.lookups.leadSources'),\n        //     route: '/lookups/lead-sources',\n        //     current: false,\n        // },\n        // {\n        //     name: 'lead-status',\n        //     displayName: this.$t('nav.lookups.leadStatus'),\n        //     route: '/lookups/lead-status',\n        //     current: false,\n        // },\n        ]\n      }, {\n        name: 'ccenter',\n        displayName: this.$t('nav.ccenter.ccenter'),\n        route: '/contact-center',\n        iconClass: 'icon-icon_nav-ccenter',\n        expanded: false,\n        subnav: [{\n          name: 'agent-skills',\n          displayName: this.$t('nav.ccenter.agentSkills'),\n          route: '/contact-center/skills',\n          current: false\n        }, {\n          name: 'agents',\n          displayName: this.$t('nav.ccenter.agents'),\n          route: '/contact-center/agents',\n          current: false\n        }, {\n          name: 'teams',\n          displayName: this.$t('nav.ccenter.teams'),\n          route: '/contact-center/teams',\n          current: false\n        }, {\n          name: 'resources',\n          displayName: this.$t('nav.ccenter.res'),\n          route: '/contact-center/resources',\n          current: false\n        }, {\n          name: 'resource-groups',\n          displayName: this.$t('nav.ccenter.resGroups'),\n          route: '/contact-center/resource-groups',\n          current: false\n        }, {\n          name: 'queues',\n          displayName: this.$t('nav.ccenter.queues'),\n          route: '/contact-center/queues',\n          current: false\n        }, {\n          name: 'buckets',\n          displayName: this.$t('nav.ccenter.buckets'),\n          route: '/contact-center/buckets',\n          current: false\n        }]\n      }, // {\n      //     name: 'kibana',\n      //     displayName: this.$t('nav.kibana'),\n      //     route: '/kibana',\n      //     iconClass: 'icon-icon_deny',\n      //     expanded: false,\n      //     subnav: false,\n      // },\n      {\n        name: 'integrations',\n        displayName: this.$t('nav.integrations.integrations'),\n        route: '/integrations',\n        iconClass: 'icon-icon_nav-integrations',\n        expanded: false,\n        subnav: [{\n          name: 'tokens',\n          displayName: this.$t('nav.integrations.tokens') + ' (coming soon)',\n          route: '/integrations/tokens',\n          current: false\n        }, {\n          name: 'storage',\n          displayName: this.$t('nav.administration.storage'),\n          route: '/integrations/storage',\n          current: false\n        }, {\n          name: 'triggers',\n          displayName: this.$t('nav.integrations.triggers') + ' (coming soon)',\n          route: '/integrations/triggers',\n          current: false\n        }, {\n          name: 'adfs',\n          displayName: this.$t('nav.administration.adfs') + ' (coming soon)',\n          route: '/integrations/adfs',\n          current: false\n        }, {\n          name: 'widgets',\n          displayName: this.$t('nav.integrations.widgets') + ' (coming soon)',\n          route: '/integrations/widgets',\n          current: false\n        }, {\n          name: 'call-tracking',\n          displayName: this.$t('nav.integrations.callTracking') + ' (coming soon)',\n          route: '/integrations/call-tracking',\n          current: false\n        }]\n      }, {\n        name: 'permissions',\n        displayName: this.$t('nav.permissions.permissions'),\n        route: '/permissions',\n        iconClass: 'icon-icon_nav-permissions',\n        expanded: false,\n        subnav: [{\n          name: 'roles',\n          displayName: this.$t('nav.permissions.roles'),\n          route: '/permissions/roles',\n          current: false\n        }, {\n          name: 'objects',\n          displayName: this.$t('nav.permissions.objects'),\n          route: '/permissions/objects',\n          current: false\n        } // {\n        //     name: 'operations',\n        //     displayName: this.$t('nav.permissions.operations'),\n        //     route: '/permissions/operations',\n        //     current: false,\n        // },\n        ]\n      }],\n      nav: [],\n      collapsed: false\n    };\n  },\n  mounted: function mounted() {\n    this.computeNav();\n  },\n  computed: _objectSpread({}, mapState('userinfo', {\n    scope: function scope(state) {\n      return state.scope;\n    }\n  })),\n  methods: {\n    computeNav: function computeNav() {\n      var _this = this;\n\n      var nav = this.fullNav.filter(function (navItem) {\n        return _this.scope.some(function (scopeItem) {\n          return navItem.subnav.some(function (subnavItem) {\n            return subnavItem.name === scopeItem.class;\n          });\n        });\n      });\n      this.nav = nav.map(function (navItem) {\n        return _objectSpread({}, navItem, {\n          subnav: navItem.subnav.filter(function (subnavItem) {\n            return _this.scope.some(function (scopeItem) {\n              return subnavItem.name === scopeItem.class;\n            });\n          })\n        });\n      });\n      this.nav = this.fullNav;\n      this.expandCurrentRoute();\n    },\n    toggleCollapse: function toggleCollapse() {\n      this.collapsed = !this.collapsed;\n      this.closeAllExpands();\n    },\n    navigate: function navigate(item) {\n      if (!item.subnav && item.route !== this.$router.currentRoute.fullPath) {\n        this.$router.push(item.route); // this.$emit('re-renderNav');\n      }\n    },\n    expandCurrentRoute: function expandCurrentRoute() {\n      var _this2 = this;\n\n      var currentItem = this.nav.find(function (currItem) {\n        return _this2.$router.currentRoute.fullPath.includes(currItem.route);\n      });\n\n      if (currentItem) {\n        var currentSubitem = currentItem.subnav.find(function (currSubitem) {\n          return _this2.$router.currentRoute.fullPath.includes(currSubitem.route);\n        });\n        this.setCurrent(currentItem, currentSubitem);\n      }\n    },\n    setCurrent: function setCurrent(currItem, currSubitem) {\n      this.nav.forEach(function (item) {\n        item.current = item === currItem;\n\n        if (item.subnav) {\n          item.subnav.forEach(function (subitem) {\n            subitem.current = subitem === currSubitem;\n          });\n        }\n      }); // this.expandItem(currItem);\n    },\n    // watches only 1 item to be opened\n    expandItem: function expandItem(_expandItem) {\n      this.nav.forEach(function (item) {\n        item.expanded = item === _expandItem && !_expandItem.expanded;\n      });\n    },\n    closeAllExpands: function closeAllExpands() {\n      if (this.collapsed) {\n        this.nav.forEach(function (item) {\n          item.expanded = false;\n        });\n      }\n    }\n  }\n};",{"version":3,"sources":["the-navbar.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <aside\n            class=\"the-nav__wrap\"\n            :class=\"{'collapsed': collapsed}\"\n            v-clickaway=\"closeAllExpands\"\n    >\n        <nav class=\"the-nav expanded-nav\">\n            <header class=\"nav__header\">\n                <i class=\"icon-icon_menu-burger\" @click=\"toggleCollapse\"></i>\n                <div class=\"logo-wrap\" @click=\"$router.push('/')\">\n                    <img class=\"logo\" src=\"../assets/img/logo.svg\" alt=\"logo\">\n                </div>\n            </header>\n            <ul class=\"nav-items\">\n                <li\n                        class=\"nav-item-wrap\"\n                        v-for=\"item in nav\"\n                        @click=\"navigate(item)\"\n                >\n                    <div\n                            class=\"nav-item\"\n                            :class=\"{'nav-item__expanded': item.expanded,\n                             'nav-item__current': item.current}\"\n                            @click=\"expandItem(item)\">\n                        <i class=\"nav-icon\" :class=\"item.iconClass\"></i>\n                        <span class=\"nav-text\">{{item.displayName}}</span>\n                        <i class=\"nav-icon-arrow icon-icon_arrow-down\" v-if=\"item.subnav\"></i>\n                    </div>\n                    <ul class=\"subnav-items\"\n                        v-if=\"item.subnav\"\n                        v-show=\"item.expanded\"\n                    >\n                        <li\n                                class=\"subnav-item\"\n                                v-for=\"subitem in item.subnav\"\n                                :class=\"{'nav-item__current': subitem.current}\"\n                                @click=\"navigate(subitem)\"\n                        >\n                            <span class=\"subnav-text\">{{subitem.displayName}}</span>\n                        </li>\n                    </ul>\n                </li>\n            </ul>\n        </nav>\n    </aside>\n</template>\n\n<script>\n    import clickaway from '../directives/clickaway';\n    import {mapState} from \"vuex\";\n\n    export default {\n        name: 'the-nav',\n        directives: {clickaway},\n        watch: {\n            '$route': function () {\n                this.expandCurrentRoute();\n            },\n            scope() {\n                this.computeNav();\n            }\n        },\n        data() {\n            return {\n                fullNav: [\n                    {\n                        name: 'directory',\n                        displayName: this.$t('nav.directory.directory'),\n                        route: '/directory',\n                        iconClass: 'icon-icon_nav-directory',\n                        expanded: false,\n                        subnav: [\n                            {\n                                name: 'license',\n                                displayName: this.$t('nav.directory.license'),\n                                route: '/directory/license',\n                                current: false,\n                            },\n                            {\n                                name: 'users',\n                                displayName: this.$t('nav.directory.users'),\n                                route: '/directory/users',\n                                current: false,\n                            },\n                            {\n                                name: 'devices',\n                                displayName: this.$t('nav.directory.devices'),\n                                route: '/directory/devices',\n                                current: false,\n                            },\n                        ]\n                    },\n                    {\n                        name: 'routing',\n                        displayName: this.$t('nav.routing.routing'),\n                        route: '/routing',\n                        iconClass: 'icon-icon_nav-routing',\n                        expanded: false,\n                        subnav: [\n                            {\n                                name: 'flow',\n                                displayName: this.$t('nav.routing.flow'),\n                                route: '/routing/flow',\n                                current: false,\n                            },\n                            {\n                                name: 'dialplan',\n                                displayName: this.$t('nav.routing.dialplan'),\n                                route: '/routing/dialplan',\n                                current: false,\n                            },\n                            {\n                                name: 'chatplan',\n                                displayName: this.$t('nav.routing.chatplan') + ' (coming soon)',\n                                route: '/routing/chatplan',\n                                current: false,\n                            },\n                            {\n                                name: 'gateways',\n                                displayName: this.$t('nav.routing.gateways'),\n                                route: '/routing/gateways',\n                                current: false,\n                            },\n                        ]\n                    },\n                    {\n                        name: 'lookups',\n                        displayName: this.$t('nav.lookups.lookups'),\n                        route: '/lookups',\n                        iconClass: 'icon-icon_nav-lookups',\n                        expanded: false,\n                        subnav: [\n                            {\n                                name: 'blacklist',\n                                displayName: this.$t('nav.lookups.blacklists'),\n                                route: '/lookups/blacklist',\n                                current: false,\n                            },\n                            {\n                                name: 'calendars',\n                                displayName: this.$t('nav.lookups.calendars'),\n                                route: '/lookups/calendars',\n                                current: false,\n                            },\n                            {\n                                name: 'communications',\n                                displayName: this.$t('nav.lookups.communications'),\n                                route: '/lookups/communications',\n                                current: false,\n                            },\n                            {\n                                name: 'media',\n                                displayName: this.$t('nav.lookups.media'),\n                                route: '/lookups/media',\n                                current: false,\n                            },\n                            // {\n                            //     name: 'contact-types',\n                            //     displayName: this.$t('nav.lookups.contactTypes'),\n                            //     route: '/lookups/contact-types',\n                            //     current: false,\n                            // },\n                            // {\n                            //     name: 'lead-sources',\n                            //     displayName: this.$t('nav.lookups.leadSources'),\n                            //     route: '/lookups/lead-sources',\n                            //     current: false,\n                            // },\n                            // {\n                            //     name: 'lead-status',\n                            //     displayName: this.$t('nav.lookups.leadStatus'),\n                            //     route: '/lookups/lead-status',\n                            //     current: false,\n                            // },\n                        ]\n                    },\n                    {\n                        name: 'ccenter',\n                        displayName: this.$t('nav.ccenter.ccenter'),\n                        route: '/contact-center',\n                        iconClass: 'icon-icon_nav-ccenter',\n                        expanded: false,\n                        subnav: [\n                            {\n                                name: 'agent-skills',\n                                displayName: this.$t('nav.ccenter.agentSkills'),\n                                route: '/contact-center/skills',\n                                current: false,\n                            },\n                            {\n                                name: 'agents',\n                                displayName: this.$t('nav.ccenter.agents'),\n                                route: '/contact-center/agents',\n                                current: false,\n                            },\n                            {\n                                name: 'teams',\n                                displayName: this.$t('nav.ccenter.teams'),\n                                route: '/contact-center/teams',\n                                current: false,\n                            },\n                            {\n                                name: 'resources',\n                                displayName: this.$t('nav.ccenter.res'),\n                                route: '/contact-center/resources',\n                                current: false,\n                            },\n                            {\n                                name: 'resource-groups',\n                                displayName: this.$t('nav.ccenter.resGroups'),\n                                route: '/contact-center/resource-groups',\n                                current: false,\n                            },\n                            {\n                                name: 'queues',\n                                displayName: this.$t('nav.ccenter.queues'),\n                                route: '/contact-center/queues',\n                                current: false,\n                            },\n                            {\n                                name: 'buckets',\n                                displayName: this.$t('nav.ccenter.buckets'),\n                                route: '/contact-center/buckets',\n                                current: false,\n                            },\n                        ]\n                    },\n                    // {\n                    //     name: 'kibana',\n                    //     displayName: this.$t('nav.kibana'),\n                    //     route: '/kibana',\n                    //     iconClass: 'icon-icon_deny',\n                    //     expanded: false,\n                    //     subnav: false,\n                    // },\n                    {\n                        name: 'integrations',\n                        displayName: this.$t('nav.integrations.integrations'),\n                        route: '/integrations',\n                        iconClass: 'icon-icon_nav-integrations',\n                        expanded: false,\n                        subnav: [\n                            {\n                                name: 'tokens',\n                                displayName: this.$t('nav.integrations.tokens') + ' (coming soon)',\n                                route: '/integrations/tokens',\n                                current: false,\n                            },\n                            {\n                                name: 'storage',\n                                displayName: this.$t('nav.administration.storage'),\n                                route: '/integrations/storage',\n                                current: false,\n                            },\n                            {\n                                name: 'triggers',\n                                displayName: this.$t('nav.integrations.triggers') + ' (coming soon)',\n                                route: '/integrations/triggers',\n                                current: false,\n                            },\n                            {\n                                name: 'adfs',\n                                displayName: this.$t('nav.administration.adfs') + ' (coming soon)',\n                                route: '/integrations/adfs',\n                                current: false,\n                            },\n                            {\n                                name: 'widgets',\n                                displayName: this.$t('nav.integrations.widgets') + ' (coming soon)',\n                                route: '/integrations/widgets',\n                                current: false,\n                            },\n                            {\n                                name: 'call-tracking',\n                                displayName: this.$t('nav.integrations.callTracking') + ' (coming soon)',\n                                route: '/integrations/call-tracking',\n                                current: false,\n                            },\n                        ]\n                    },\n                    {\n                        name: 'permissions',\n                        displayName: this.$t('nav.permissions.permissions'),\n                        route: '/permissions',\n                        iconClass: 'icon-icon_nav-permissions',\n                        expanded: false,\n                        subnav: [\n                            {\n                                name: 'roles',\n                                displayName: this.$t('nav.permissions.roles'),\n                                route: '/permissions/roles',\n                                current: false,\n                            },\n                            {\n                                name: 'objects',\n                                displayName: this.$t('nav.permissions.objects'),\n                                route: '/permissions/objects',\n                                current: false,\n                            },\n                            // {\n                            //     name: 'operations',\n                            //     displayName: this.$t('nav.permissions.operations'),\n                            //     route: '/permissions/operations',\n                            //     current: false,\n                            // },\n                        ]\n                    },\n                ],\n                nav: [],\n                collapsed: false,\n            };\n        },\n\n        mounted() {\n            this.computeNav();\n        },\n\n        computed: {\n            ...mapState('userinfo', {\n                scope: state => state.scope\n            }),\n        },\n\n        methods: {\n            computeNav() {\n                let nav = this.fullNav.filter(navItem => {\n                    return this.scope.some(scopeItem => {\n                        return navItem.subnav.some(subnavItem => {\n                            return subnavItem.name === scopeItem.class;\n                        });\n                    });\n                });\n\n                this.nav = nav.map(navItem => {\n                    return {\n                        ...navItem,\n                        subnav: navItem.subnav.filter(subnavItem => {\n                            return this.scope.some(scopeItem => {\n                                return subnavItem.name === scopeItem.class;\n                            });\n                        }),\n                    }});\n\n                this.nav = this.fullNav;\n                this.expandCurrentRoute();\n            },\n\n            toggleCollapse() {\n                this.collapsed = !this.collapsed;\n                this.closeAllExpands();\n            },\n\n            navigate(item) {\n                if (!item.subnav && item.route !== this.$router.currentRoute.fullPath) {\n                    this.$router.push(item.route);\n                    // this.$emit('re-renderNav');\n                }\n            },\n\n            expandCurrentRoute() {\n                const currentItem = this.nav.find(currItem => {\n                    return this.$router.currentRoute.fullPath.includes(currItem.route);\n                });\n                if (currentItem) {\n                    const currentSubitem = currentItem.subnav.find(currSubitem => {\n                        return this.$router.currentRoute.fullPath.includes(currSubitem.route);\n                    });\n                    this.setCurrent(currentItem, currentSubitem);\n                }\n            },\n\n            setCurrent(currItem, currSubitem) {\n                this.nav.forEach(item => {\n                    item.current = item === currItem;\n\n                    if (item.subnav) {\n                        item.subnav.forEach(subitem => {\n                            subitem.current = subitem === currSubitem;\n                        });\n                    }\n                });\n\n                // this.expandItem(currItem);\n            },\n\n            // watches only 1 item to be opened\n            expandItem(expandItem) {\n                this.nav.forEach(item => {\n                    item.expanded = item === expandItem && !expandItem.expanded;\n                });\n            },\n\n            closeAllExpands() {\n                if (this.collapsed) {\n                    this.nav.forEach(item => {\n                        item.expanded = false;\n                    });\n                }\n            },\n        },\n    };\n</script>\n\n<style lang=\"scss\" scoped>\n    $nav-bg-color: #171A2A;\n    $nav-paddings: 0 38px 0 20px;\n\n    .the-nav__wrap {\n        @extend .box-shadow;\n        /*flex-basis: 272px;*/\n        position: relative;\n        /*min-width: 272px;*/\n        /*width: 272px;*/\n        min-height: 100vh;\n        background: $nav-bg-color;\n        z-index: 101;\n\n        .the-nav {\n            position: sticky;\n            top: 0;\n            width: 272px;\n            padding-top: 20px;\n            color: $nav-icon-color;\n\n            i:before {\n                color: $nav-icon-color;\n            }\n\n            .nav__header {\n                display: flex;\n                width: 100%;\n                padding: $nav-paddings;\n                margin: 0 auto 44px;\n\n                .icon-icon_menu-burger {\n                    margin-right: 23px;\n                    color: #fff;\n                    cursor: pointer;\n                }\n\n                .logo-wrap {\n                    cursor: pointer;\n                }\n            }\n\n            .nav-item-wrap {\n                .nav-item {\n                    @extend .typo-nav-item;\n\n                    display: flex;\n                    justify-content: flex-start;\n                    align-items: center;\n                    width: 100%;\n                    max-height: 36px;\n                    padding: 6px 38px 6px 20px;\n                    cursor: pointer;\n\n                    .nav-icon-arrow {\n                        margin-left: auto;\n                        transform: rotate(-90deg);\n                        transition: $transition;\n                    }\n\n                    .nav-icon {\n                        margin-right: 18px;\n                        transition: $transition;\n                    }\n\n                    .nav-text {\n                        transition: $transition;\n                    }\n                }\n\n\n                .subnav-items {\n                    .subnav-item {\n                        @extend .typo-nav-item;\n\n                        display: flex;\n                        justify-content: flex-start;\n                        width: 100%;\n                        padding: 11px 38px 11px 62px;\n                        cursor: pointer;\n\n                        &:hover, &.nav-item__current {\n                            background: rgba(0, 0, 0, 0.1);\n\n                            .subnav-text, .subnav-icon {\n                                color: $accent-color;\n                            }\n                        }\n                    }\n                }\n\n                &:hover, .nav-item__expanded, .nav-item__current {\n                    .nav-icon-arrow:before, .nav-icon:before, .nav-text {\n                        color: $accent-color;\n                    }\n                }\n\n                .nav-item__expanded {\n                    .nav-icon-arrow {\n                        transform: rotate(0);\n                    }\n                }\n\n                .nav-item__expanded {\n                    background: rgba(0, 0, 0, 0.35);\n                }\n            }\n        }\n\n        &.collapsed {\n            flex-basis: 64px;\n            /*min-width: 64px;*/\n            /*width: 64px;*/\n\n            .nav__header {\n                .logo {\n                    display: none;\n                }\n            }\n\n            .the-nav {\n                width: 64px;\n\n                .nav-item-wrap {\n                    .nav-item {\n                        .nav-icon {\n                            margin-right: 28px;\n                        }\n\n                        .nav-icon-arrow {\n                            display: none;\n                        }\n\n                        .nav-text {\n                            opacity: 0;\n                            pointer-events: none;\n                        }\n                    }\n\n                    .subnav-items {\n\n                        .subnav-item {\n                            min-width: calc(220px - 64px);\n                            padding: 12px 38px 12px 10px;\n                            margin-left: 64px;\n                            background: $nav-bg-color;\n                        }\n                    }\n\n                    .nav-item__expanded {\n                        background: $nav-bg-color;\n\n                        &.nav-item {\n                            width: 220px;\n                        }\n\n                        .nav-text {\n                            opacity: 1;\n                            pointer-events: auto;\n                        }\n                    }\n                }\n            }\n\n        }\n    }\n\n</style>\n"],"sourceRoot":"src/components"}]}