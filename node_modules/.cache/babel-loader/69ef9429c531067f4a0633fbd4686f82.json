{"remainingRequest":"/home/dev/work/client-auth/node_modules/babel-loader/lib/index.js!/home/dev/work/client-auth/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/dev/work/client-auth/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/dev/work/client-auth/src/components/lookups/calendars/opened-calendar-work-week.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/dev/work/client-auth/src/components/lookups/calendars/opened-calendar-work-week.vue","mtime":1581336100360},{"path":"/home/dev/work/client-auth/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dev/work/client-auth/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/dev/work/client-auth/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dev/work/client-auth/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nimport _defineProperty from \"/home/dev/work/client-auth/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport timepicker from '@/components/utils/timepicker';\nimport vuetable from 'vuetable-2/src/components/Vuetable';\nimport openedTabComponentMixin from '@/mixins/openedTabComponentMixin';\nimport { _actionsTableField_1 } from \"@/utils/tableFieldPresets\";\nimport { _switcherWidth } from \"../../../utils/tableFieldPresets\";\nimport { deleteWorkday } from \"../../../api/lookups/calendars/calendars\";\nimport { mapActions, mapState } from \"vuex\";\nexport default {\n  name: \"opened-calendar-work-week\",\n  components: {\n    vuetable: vuetable,\n    timepicker: timepicker\n  },\n  mixins: [openedTabComponentMixin],\n  data: function data() {\n    return {\n      fields: [{\n        name: 'name',\n        title: this.$t('objects.name')\n      }, {\n        name: 'start',\n        title: this.$t('objects.lookups.calendars.start')\n      }, {\n        name: 'end',\n        title: this.$t('objects.lookups.calendars.end')\n      }, {\n        name: 'status',\n        title: this.$t('objects.lookups.calendars.enabled'),\n        width: _switcherWidth\n      }, _actionsTableField_1],\n      weekdays: [this.$t('objects.lookups.calendars.mon'), this.$t('objects.lookups.calendars.tue'), this.$t('objects.lookups.calendars.wed'), this.$t('objects.lookups.calendars.thu'), this.$t('objects.lookups.calendars.fri'), this.$t('objects.lookups.calendars.sat'), this.$t('objects.lookups.calendars.sun')]\n    };\n  },\n  computed: _objectSpread({}, mapState('lookups/calendars', {\n    dataList: function dataList(state) {\n      return state.itemInstance.accepts;\n    }\n  })),\n  methods: _objectSpread({\n    isDayStart: function isDayStart(rowIndex) {\n      return this.dataList[rowIndex].day !== // this day index is not equal to\n      (this.dataList[rowIndex - 1] || {}).day; // prev day index (or empty)\n    },\n    computeWorkdayEnd: function computeWorkdayEnd(item, rowIndex) {\n      return this.isDayStart(rowIndex) ? 'day-start' : '';\n    }\n  }, mapActions('lookups/calendars', {\n    setItemProp: 'SET_ACCEPT_ITEM_PROPERTY',\n    addWorkRange: 'ADD_ACCEPT_ITEM',\n    remove: 'REMOVE_ACCEPT_ITEM'\n  }))\n};",{"version":3,"sources":["opened-calendar-work-week.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2DA,OAAA,UAAA,MAAA,+BAAA;AACA,OAAA,QAAA,MAAA,oCAAA;AACA,OAAA,uBAAA,MAAA,kCAAA;AACA,SAAA,oBAAA,QAAA,2BAAA;AACA,SAAA,cAAA;AACA,SAAA,aAAA;AACA,SAAA,UAAA,EAAA,QAAA,QAAA,MAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,2BADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,QAAA,EAAA,QADA;AAEA,IAAA,UAAA,EAAA;AAFA,GAFA;AAMA,EAAA,MAAA,EAAA,CAAA,uBAAA,CANA;AAOA,EAAA,IAPA,kBAOA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,CACA;AAAA,QAAA,IAAA,EAAA,MAAA;AAAA,QAAA,KAAA,EAAA,KAAA,EAAA,CAAA,cAAA;AAAA,OADA,EAEA;AAAA,QAAA,IAAA,EAAA,OAAA;AAAA,QAAA,KAAA,EAAA,KAAA,EAAA,CAAA,iCAAA;AAAA,OAFA,EAGA;AAAA,QAAA,IAAA,EAAA,KAAA;AAAA,QAAA,KAAA,EAAA,KAAA,EAAA,CAAA,+BAAA;AAAA,OAHA,EAIA;AAAA,QAAA,IAAA,EAAA,QAAA;AAAA,QAAA,KAAA,EAAA,KAAA,EAAA,CAAA,mCAAA,CAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OAJA,EAKA,oBALA,CADA;AAQA,MAAA,QAAA,EAAA,CACA,KAAA,EAAA,CAAA,+BAAA,CADA,EAEA,KAAA,EAAA,CAAA,+BAAA,CAFA,EAGA,KAAA,EAAA,CAAA,+BAAA,CAHA,EAIA,KAAA,EAAA,CAAA,+BAAA,CAJA,EAKA,KAAA,EAAA,CAAA,+BAAA,CALA,EAMA,KAAA,EAAA,CAAA,+BAAA,CANA,EAOA,KAAA,EAAA,CAAA,+BAAA,CAPA;AARA,KAAA;AAkBA,GA1BA;AA4BA,EAAA,QAAA,oBACA,QAAA,CAAA,mBAAA,EAAA;AACA,IAAA,QAAA,EAAA,kBAAA,KAAA;AAAA,aAAA,KAAA,CAAA,YAAA,CAAA,OAAA;AAAA;AADA,GAAA,CADA,CA5BA;AAkCA,EAAA,OAAA;AACA,IAAA,UADA,sBACA,QADA,EACA;AACA,aAAA,KAAA,QAAA,CAAA,QAAA,EAAA,GAAA,KAAA;AACA,OAAA,KAAA,QAAA,CAAA,QAAA,GAAA,CAAA,KAAA,EAAA,EAAA,GADA,CADA,CAEA;AACA,KAJA;AAMA,IAAA,iBANA,6BAMA,IANA,EAMA,QANA,EAMA;AACA,aAAA,KAAA,UAAA,CAAA,QAAA,IAAA,WAAA,GAAA,EAAA;AACA;AARA,KAUA,UAAA,CAAA,mBAAA,EAAA;AACA,IAAA,WAAA,EAAA,0BADA;AAEA,IAAA,YAAA,EAAA,iBAFA;AAGA,IAAA,MAAA,EAAA;AAHA,GAAA,CAVA;AAlCA,CAAA","sourcesContent":["<template>\n    <section class=\"opened-calendar-work-week\">\n        <header class=\"content-header\">\n            <h3 class=\"content-title\">{{$t('objects.lookups.calendars.workWeek')}}</h3>\n        </header>\n\n        <vuetable\n                :api-mode=\"false\"\n                :fields=\"fields\"\n                :data=\"dataList\"\n                :row-class=\"computeWorkdayEnd\"\n        >\n\n            <template slot=\"name\" slot-scope=\"props\">\n                <span v-if=\"isDayStart(props.rowIndex)\">\n                    {{weekdays[dataList[props.rowIndex].day]}}\n                </span>\n            </template>\n\n            <template slot=\"start\" slot-scope=\"props\">\n                <timepicker\n                        :value=\"dataList[props.rowIndex].start\"\n                        :format=\"'hh:mm'\"\n                        @input=\"setItemProp({prop: 'start', index: props.rowIndex, value: $event})\"\n                ></timepicker>\n            </template>\n\n            <template slot=\"end\" slot-scope=\"props\">\n                <timepicker\n                        :value=\"dataList[props.rowIndex].end\"\n                        :format=\"'hh:mm'\"\n                        @input=\"setItemProp({prop: 'end', index: props.rowIndex, value: $event})\"\n                ></timepicker>\n            </template>\n\n            <template slot=\"status\" slot-scope=\"props\">\n                <switcher\n                        :value=\"!dataList[props.rowIndex].disabled\"\n                        @input=\"setItemProp({prop: 'disabled', index: props.rowIndex, value: $event})\"\n                ></switcher>\n            </template>\n\n            <template slot=\"actions\" slot-scope=\"props\">\n                <i class=\"vuetable-action icon-icon_plus\"\n                   v-if=\"isDayStart(props.rowIndex)\"\n                   :title=\"$t('iconHints.add')\"\n                   @click=\"addWorkRange(dataList[props.rowIndex].day)\"\n                ></i>\n                <i class=\"vuetable-action icon-icon_delete calendar-workweek__item\"\n                   v-else\n                   :title=\"$t('iconHints.delete')\"\n                   @click=\"remove(props.rowIndex)\"\n                ></i>\n            </template>\n        </vuetable>\n    </section>\n</template>\n\n<script>\n    import timepicker from '@/components/utils/timepicker';\n    import vuetable from 'vuetable-2/src/components/Vuetable';\n    import openedTabComponentMixin from '@/mixins/openedTabComponentMixin';\n    import {_actionsTableField_1} from \"@/utils/tableFieldPresets\";\n    import {_switcherWidth} from \"../../../utils/tableFieldPresets\";\n    import {deleteWorkday} from \"../../../api/lookups/calendars/calendars\";\n    import {mapActions, mapState} from \"vuex\";\n\n    export default {\n        name: \"opened-calendar-work-week\",\n        components: {\n            vuetable,\n            timepicker,\n        },\n        mixins: [openedTabComponentMixin],\n        data() {\n            return {\n                fields: [\n                    {name: 'name', title: this.$t('objects.name')},\n                    {name: 'start', title: this.$t('objects.lookups.calendars.start')},\n                    {name: 'end', title: this.$t('objects.lookups.calendars.end')},\n                    {name: 'status', title: this.$t('objects.lookups.calendars.enabled'), width: _switcherWidth},\n                    _actionsTableField_1,\n                ],\n                weekdays: [\n                    this.$t('objects.lookups.calendars.mon'),\n                    this.$t('objects.lookups.calendars.tue'),\n                    this.$t('objects.lookups.calendars.wed'),\n                    this.$t('objects.lookups.calendars.thu'),\n                    this.$t('objects.lookups.calendars.fri'),\n                    this.$t('objects.lookups.calendars.sat'),\n                    this.$t('objects.lookups.calendars.sun'),\n                ],\n            };\n        },\n\n        computed: {\n            ...mapState('lookups/calendars', {\n                dataList: state => state.itemInstance.accepts,\n            }),\n        },\n\n        methods: {\n            isDayStart(rowIndex) {\n                return this.dataList[rowIndex].day !== // this day index is not equal to\n                    (this.dataList[rowIndex - 1] || {}).day; // prev day index (or empty)\n            },\n\n            computeWorkdayEnd(item, rowIndex) {\n                return this.isDayStart(rowIndex) ? 'day-start' : ''\n            },\n\n            ...mapActions('lookups/calendars', {\n                setItemProp: 'SET_ACCEPT_ITEM_PROPERTY',\n                addWorkRange: 'ADD_ACCEPT_ITEM',\n                remove: 'REMOVE_ACCEPT_ITEM',\n            }),\n\n        }\n    }\n</script>\n\n<style lang=\"scss\">\n    .opened-calendar-work-week {\n        .timepicker {\n            position: relative;\n            left: -16px;\n\n            .vs__dropdown-toggle {\n                border-color: transparent;\n            }\n        }\n    }\n</style>"],"sourceRoot":"src/components/lookups/calendars"}]}