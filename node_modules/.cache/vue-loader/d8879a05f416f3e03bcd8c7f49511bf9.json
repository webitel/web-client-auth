{"remainingRequest":"/home/dev/work/client-auth/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/dev/work/client-auth/src/components/lookups/calendars/opened-calendar-holiday-popup.vue?vue&type=style&index=0&id=c613e188&lang=scss&scoped=true&","dependencies":[{"path":"/home/dev/work/client-auth/src/components/lookups/calendars/opened-calendar-holiday-popup.vue","mtime":1579778508474},{"path":"/home/dev/work/client-auth/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dev/work/client-auth/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/dev/work/client-auth/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/dev/work/client-auth/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dev/work/client-auth/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dev/work/client-auth/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.date {\n    display: flex;\n    margin-top: 14px;\n\n    .datepicker {\n        margin-right: 18px;\n    }\n\n    .switcher {\n        margin-top: 9px;\n    }\n}\n",{"version":3,"sources":["opened-calendar-holiday-popup.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsIA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"opened-calendar-holiday-popup.vue","sourceRoot":"src/components/lookups/calendars","sourcesContent":["<template>\n    <popup\n            :title=\"$t('objects.lookups.calendars.newHoliday')\"\n            :primaryAction=\"save\"\n            :primaryText=\"computePrimaryText\"\n            :primaryDisabled=\"computeDisabled\"\n            @close=\"$emit('close')\"\n            overflow\n    >\n        <form>\n            <form-input\n                    v-model.trim=\"name\"\n                    :label=\"$t('objects.name')\"\n                    :v=\"$v.itemInstance.name\"\n                    required\n            ></form-input>\n            <div class=\"date\">\n                <datepicker\n                        class=\"datepicker__to-right\"\n                        v-model=\"date\"\n                        :label=\"$t('objects.lookups.calendars.date')\"\n                        :v=\"$v.itemInstance.date\"\n                        required\n                ></datepicker>\n                <div class=\"switcher-label-wrap\">\n                    <div class=\"label\">{{$t('objects.lookups.calendars.everyYear')}}</div>\n                    <switcher\n                            v-model=\"repeat\"\n                    ></switcher>\n                </div>\n            </div>\n        </form>\n    </popup>\n</template>\n\n<script>\n    import popup from '@/components/utils/popup';\n    import datepicker from '@/components/utils/datepicker';\n    import editComponentMixin from '@/mixins/editComponentMixin';\n    import {required} from 'vuelidate/lib/validators';\n    import {mapActions, mapState} from \"vuex\";\n\n    export default {\n        name: \"opened-calendar-holiday-popup\",\n        mixins: [editComponentMixin],\n        components: {\n            popup,\n            datepicker,\n        },\n\n        validations: {\n            itemInstance: {\n                name: {\n                    required,\n                },\n                date: {\n                    required,\n                }\n            }\n        },\n\n        mounted() {\n            this.loadItem();\n        },\n\n        computed: {\n            ...mapState('lookups/calendars/holidays', {\n                id: state => state.itemId,\n                itemInstance: state => state.itemInstance\n            }),\n            name: {\n                get() {\n                    return this.$store.state.lookups.calendars.holidays.itemInstance.name\n                },\n                set(value) {\n                    this.setItemProp({prop: 'name', value})\n                }\n            },\n            date: {\n                get() {\n                    return this.$store.state.lookups.calendars.holidays.itemInstance.date\n                },\n                set(value) {\n                    this.setItemProp({prop: 'date', value})\n                }\n            },\n            repeat: {\n                get() {\n                    return this.$store.state.lookups.calendars.holidays.itemInstance.repeat\n                },\n                set(value) {\n                    this.setItemProp({prop: 'repeat', value})\n                }\n            },\n\n            computePrimaryText() {\n                // if it's a new item\n                // OR any fields have changed\n                return !(typeof this.id === 'number') || this.itemInstance._dirty ?\n                    this.$t('objects.save') : this.$t('objects.saved');\n            },\n\n            computeDisabled() {\n                // if there's a validation problem\n                // OR it's edit and any fields haven't changed\n                return this.checkValidations() ||\n                    (!this.itemInstance._dirty && (typeof this.id === 'number'));\n            },\n        },\n\n        methods: {\n            async save() {\n                const invalid = this.checkValidations();\n                // console.log(!invalid, !(typeof this.id === 'number'));\n                if (!invalid) {\n                    try {\n                        !(typeof this.id === 'number') ? await this.addItem() : await this.updateItem();\n                        this.$emit('close');\n                    } catch {\n                    }\n                }\n            },\n\n            ...mapActions('lookups/calendars/holidays', {\n                setItemProp: 'SET_ITEM_PROPERTY',\n                addItem: 'ADD_ITEM',\n                updateItem: 'UPDATE_ITEM',\n                loadItem: 'LOAD_ITEM',\n            }),\n        }\n    }\n</script>\n\n<style lang=\"scss\" scoped>\n    .date {\n        display: flex;\n        margin-top: 14px;\n\n        .datepicker {\n            margin-right: 18px;\n        }\n\n        .switcher {\n            margin-top: 9px;\n        }\n    }\n</style>"]}]}